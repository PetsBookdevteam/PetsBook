<!DOCTYPE html>
<html>
<title>PetsBook Home Page</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script type=text/javascript src="../static/jquery-3.1.1.min.js"></script>
<link rel="stylesheet" href="http://www.w3schools.com/lib/w3.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
<link rel="stylesheet" href="../static/font-awesome/css/font-awesome.min.css">
<link rel="stylesheet" href="../static/effect.css">
<body>

<!-- Header -->
<header class="w3-display-container w3-content" style="max-width:1500px">
  <img class="w3-image" src="http://pawsitivepetsit.com/wp-content/uploads/2015/03/Pets.jpg" alt="Featured Pet" width="100%">
  <div class="w3-display-middle w3-padding-xlarge w3-border w3-wide w3-text-light-grey w3-center">
    <h1 class="w3-hide-medium w3-hide-small w3-xxxlarge">PetsBook</h1>
    <h5 class="w3-hide-large" style="white-space:nowrap">PetsBook</h5>
  </div>

<!-- Navbar (placed at the bottom of the header image) -->
  <ul class="w3-navbar w3-light-grey w3-round w3-display-bottommiddle w3-hide-small" style="bottom:-16px">
    <li><a href="{{ url_for("home_page") }}">Home</a></li>
    <li><a href="{{ url_for("do_signup") }}">Profile</a></li>
    <li><a href="{{ url_for("do_signup") }}">Sign Up</a></li>
    <li><a href="{{ url_for("do_signin") }}">Sign In</a></li>
  </ul>
</header>

<!-- Navbar on small screens -->
<ul class="w3-navbar w3-light-grey w3-hide-large w3-hide-medium">
  <li><a href="{{ url_for("home_page") }}">Home</a></li>
  <li><a href="{{ url_for("do_signup") }}">Profile</a></li>
  <li><a href="{{ url_for("do_signup") }}">Sign Up</a></li>
  <li><a href="{{ url_for("do_signin") }}">Sign In</a></li>
</ul>

<!-- Page content -->
<div class="w3-padding-top w3-margin-top">

<!-- Images (Portfolio) -->
    <div class="w3-row">
        <div class="w3-quarter w3-container w3-border-right">
            <div class="w3-container w3-margin-bottom w3-round w3-center">
                <h1 class="w3-border-bottom">Rank</h1>
            </div>
        </div>
        <div class="w3-rest w3-container">
            {% for user in users %}
                {% if user.pet != None %}
    {#                {% set block_name = "block_" + user.username %}#}
                    <div class="w3-rest w3-border-bottom w3-margin-bottom">
                        <div class="hovereffect w3-container w3-twothird w3-margin-top w3-margin-bottom">
                            <img src="{{ user.pet.img_ava }}" alt="{{ user.pet.name }}" class="w3-image" width="100%">
                            <div class="overlay">
                               <h2>{{ user.pet.name }}</h2>
                               <a class="info" href="{{ url_for("do_signup") }}">View Profile</a>
                            </div>
                        </div>
                        <div class="w3-third w3-container">
                            <h5><i class="w3-text-teal fa fa-user w3-margin-right"></i><a class = 'nameId'>{{ user.username }}</a></h5>
                            <h5><i class="w3-text-teal fa fa-paw w3-margin-right"></i>{{ user.pet.name }}</h5>
                            <h5><i class="w3-text-teal fa fa-pencil w3-margin-right"></i>{{ user.pet.upload_info.des }}</h5>
                            <div class="like_button" >
                                <h5 class="w3-border-bottom"><i class="w3-text-red fa fa-heart w3-margin-right"></i><a class="count">{{ user.pet.like_count }}</a></h5>
                                <a href="{{ url_for("do_signup") }}"><button type="button" class="w3-red w3-padding w3-margin-bottom w3-btn-block">Vote</button></a>
                            </div>
    {#                        <script type="text/javascript">#}
    {#                            $(".{{ block_name }}").one("click", function(){#}
    {#                                var $counter = $(this).find(".count");#}
    {#                                var count = $counter.text() | 0;#}
    {#                                count += 1;#}
    {#                                $counter.text(count);#}
    {#                                $.ajax({#}
    {#                                    url: '/',#}
    {#                                    data: {#}
    {#                                        username : "{{ user.username }}",#}
    {#                                        votes : count#}
    {#                                    },#}
    {#                                    type: 'POST'#}
    {#                                });#}
    {#                                $('#{{ block_name }}').replaceWith('<div class="w3-container w3-red w3-padding w3-margin-bottom w3-center">Voted</div>');#}
    {#                            });#}
    {#                        </script>#}
                        </div>
                        <div class="w3-third w3-container w3-margin-bottom">
                            <div class="w3-container w3-teal w3-center">
                                <p>More Pics</p>
                            </div>
                            {% for i in range(0,4) %}
                                <div class="w3-half">
                                    <img src="{{ user.pet.upload_info.img_upload }}" width="100%">
                                </div>
                            {% endfor %}
                        </div>
                    </div>
                {% endif %}
            {% endfor %}
        </div>

    </div>


</div>
</body>
</html>
